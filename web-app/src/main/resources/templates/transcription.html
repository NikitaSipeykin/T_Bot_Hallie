<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/components.css">
    <style>
        .drop-zone {
            border: 2px dashed #4A90E2;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: 0.2s;
            background: #f8faff;
            margin-bottom: 15px;
        }
        .drop-zone:hover, .drop-zone.drag-over {
            background: #e8f0fe;
            border-color: #357ABD;
        }
        .drop-zone input[type="file"] {
            display: none;
        }
        .drop-zone-text {
            color: #555;
            font-size: 15px;
        }
        .drop-zone-text span {
            color: #4A90E2;
            font-weight: bold;
        }
        .file-name {
            margin-top: 10px;
            font-size: 14px;
            color: #333;
            font-weight: bold;
        }
        .progress-wrap {
            display: none;
            margin-top: 15px;
        }
        progress {
            width: 100%;
            height: 10px;
            border-radius: 5px;
        }
        .status-box {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            background: #f1f1f1;
            font-size: 14px;
            display: none;
        }
        .status-box.success { background: #e6f9ed; color: #2e7d32; }
        .status-box.error   { background: #fdecea; color: #c62828; }
        .status-box.info    { background: #e3f2fd; color: #1565c0; }
        .history-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }
        .badge.done    { background: #e6f9ed; color: #2e7d32; }
        .badge.pending { background: #fff8e1; color: #f57f17; }
        .badge.error   { background: #fdecea; color: #c62828; }
    </style>
</head>
<body>
    <div class="wrapper">
        <div id="header"></div>

        <div class="container" style="max-width: 520px;">
            <h2>üéôÔ∏è –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è</h2>

            <div class="drop-zone" id="dropZone" onclick="document.getElementById('fileInput').click()">
                <input type="file" id="fileInput" accept=".mov,.mp4,.mp3,.ogg,.wav,.m4a,.webm,.flac,.aac">
                <div class="drop-zone-text">
                    –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ <span>–≤—ã–±–µ—Ä–∏—Ç–µ</span>
                </div>
                <div class="drop-zone-text" style="font-size:12px; margin-top:6px; color:#888;">
                    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: .mov, .mp4, .mp3, .ogg, .wav, .m4a –∏ –¥—Ä—É–≥–∏–µ
                </div>
                <div class="file-name" id="fileName"></div>
            </div>

            <div class="progress-wrap" id="progressWrap">
                <progress id="progressBar" value="0" max="100"></progress>
                <div style="font-size:12px; color:#888; margin-top:4px;" id="progressText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>

            <button id="uploadBtn" onclick="uploadFile()" disabled>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é</button>

            <div class="status-box" id="statusBox"></div>
        </div>

        <div class="container" style="max-width: 520px;">
            <h2>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏</h2>
            <div id="historyList"><div style="color:#888; font-size:14px;">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div>
            <button onclick="loadHistory()" style="margin-top:10px;">–û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
    </div>

    <script src="/js/transcription.js"></script>
    <script>
        fetch("/common/header.html")
            .then(res => res.text())
            .then(html => document.getElementById("header").innerHTML = html);
    </script>
</body>
</html>
